<!DOCTYPE HTML>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="author" content="Bootstrap-ecommerce by Vosidiy">

	<title> Alibaba example html template </title>

	<link rel="shortcut icon" type="image/x-icon" href="http://bootstrap-ecommerce.com/ui-ecommerce/images/favicon.ico">

	<!-- jQuery -->
	<script src="goodslist/js/jquery-2.0.0.min.js" type="text/javascript"></script>

	<!-- Bootstrap4 files-->
	<script src="http://bootstrap-ecommerce.com/ui-ecommerce/js/bootstrap.bundle.min.js"
		type="text/javascript"></script>
	<link href="http://bootstrap-ecommerce.com/ui-ecommerce/css/bootstrap.css" rel="stylesheet" type="text/css" />

	<!-- Font awesome 5 -->
	<link
		href="http://bootstrap-ecommerce.com/ui-ecommerce/fonts/fontawesome/http://bootstrap-ecommerce.com/ui-ecommerce/css/fontawesome-all.min.css"
		type="text/css" rel="stylesheet">

	<!-- plugin: fancybox  -->
	<script src="http://bootstrap-ecommerce.com/ui-ecommerce/pluginsfancybox/fancybox.min.js"
		type="text/javascript"></script>
	<link href="http://bootstrap-ecommerce.com/ui-ecommerce/pluginsfancybox/fancybox.min.css" type="text/css"
		rel="stylesheet">

	<!-- plugin: owl carousel  -->
	<link href="http://bootstrap-ecommerce.com/ui-ecommerce/pluginsowlcarousel/assets/owl.carousel.min.css"
		rel="stylesheet">
	<link href="http://bootstrap-ecommerce.com/ui-ecommerce/pluginsowlcarousel/assets/owl.theme.default.css"
		rel="stylesheet">
	<script src="http://bootstrap-ecommerce.com/ui-ecommerce/pluginsowlcarousel/owl.carousel.min.js"></script>

	<!-- custom style -->
	<link href="http://bootstrap-ecommerce.com/ui-ecommerce/css/ui.css" rel="stylesheet" type="text/css" />
	<link href="http://bootstrap-ecommerce.com/ui-ecommerce/css/responsive.css" rel="stylesheet"
		media="only screen and (max-width: 1200px)" />

	<!-- custom javascript -->
	<script src="http://bootstrap-ecommerce.com/ui-ecommerce/js/script.js" type="text/javascript"></script>

	<script type="text/javascript">
		/// some script

		// jquery ready start
		$(document).ready(function () {
			// jQuery code

		});
// jquery end
	</script>

</head>

<body>
	<header class="section-header">
		<nav class="navbar navbar-expand-lg navbar-light">
			<div class="container">
				<a class="navbar-brand" href="#"><img class="logo"
						src="http://bootstrap-ecommerce.com/ui-ecommerce/images/logos/logo-alibaba.png"
						alt="alibaba style e-commerce html template file" title="alibaba e-commerce html css theme"></a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTop"
					aria-controls="navbarTop" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarTop">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle"
								data-toggle="dropdown"> Sourcing </a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="#">Top Suppliers</a></li>
								<li><a class="dropdown-item" href="#">Suppliers by Regions </a></li>
								<li><a class="dropdown-item" href="#">Online Retailer </a></li>
							</ul>
						</li>
						<li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle"
								data-toggle="dropdown"> Services </a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="#">Trade Assurance </a></li>
								<li><a class="dropdown-item" href="#">Arabic</a></li>
								<li><a class="dropdown-item" href="#">Logistics Service </a></li>
								<li><a class="dropdown-item" href="#">Membership Services</a></li>
							</ul>
						</li>
						<li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle"
								data-toggle="dropdown"> Community </a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="#">Help Center</a></li>
								<li><a class="dropdown-item" href="#">Submit a Dispute </a></li>
								<li><a class="dropdown-item" href="#">For Suppliers </a></li>
							</ul>
						</li>
					</ul>
					<ul class="navbar-nav">
						<!-- <li class="nav-item"><a href="#" class="nav-link" > Multi Request </a></li>
		<li class="nav-item"><a href="http://bootstrap-ecommerce.com/" class="nav-link" > Download  </a></li> -->

					</ul> <!-- navbar-nav.// -->
				</div> <!-- collapse.// -->
			</div>
		</nav>

		<section class="header-main shadow-sm">
			<div class="container">
				<div class="row-sm align-items-center">
					<div class="col-lg-4-24 col-sm-3">
						<div class="category-wrap dropdown py-1">
							<button type="button" class="btn btn-light  dropdown-toggle" data-toggle="dropdown"><i
									class="fa fa-bars"></i> Categories</button>
							<div class="dropdown-menu" id="style">
								<a class="dropdown-item" href="#">机械</a>
								<a class="dropdown-item" href="#">电子</a>
								<a class="dropdown-item" href="#">零食</a>
								<a class="dropdown-item" href="#">饮料</a>
								<a class="dropdown-item" href="#">母婴</a>
								<a class="dropdown-item" href="#">服饰</a>
							</div>
						</div>
					</div>
					<div class="col-lg-11-24 col-sm-8">
						<form action="#" class="py-1">
							<div class="input-group w-100">
								<select class="custom-select" name="category_name">
									<option value="所有种类">所有种类</option>
									<option value="特别">特别</option>
									<option value="最好">最好</option>
									<option value="最新">最新</option>
								</select>
								<input type="text" class="form-control" id="Search" style="width:50%;"
									placeholder="Search">
								<div class="input-group-append">
									<button class="btn btn-warning" type="submit">
										<i class="fa fa-search"></i> Search
									</button>
								</div>
							</div>
						</form> <!-- search-wrap .end// -->
					</div> <!-- col.// -->
					<div class="col-lg-9-24 col-sm-12">
						<div class="widgets-wrap float-right row no-gutters py-1">
							<div class="col-auto">
								<div class="widget-header dropdown">
									<a href="#" data-toggle="dropdown" data-offset="20,10">
										<div class="icontext">
											<div class="icon-wrap"><i class="text-warning icon-sm fa fa-user"></i></div>
											<div class="text-wrap text-dark">
												用户<br>
												登录 <i class="fa fa-caret-down"></i>
											</div>
										</div>
									</a>
									<div class="dropdown-menu">
										<form class="px-4 py-3">
											<div class="form-group">
												<label>Email address</label>
												<input type="text" class="form-control" id="username"
													placeholder="请输入用户名">
											</div>
											<div class="form-group">
												<label>Password</label>
												<input type="password" class="form-control" placeholder="Password" id="password">
											</div>
											<input type="submit" class="btn btn-primary" id="subM" value="注册"></input>
										</form>
										<hr class="dropdown-divider">
										<a class="dropdown-item" href="./reg.html">没有账号,点击注册</a>
										<!-- <a class="dropdown-item" href="#">Forgot password?</a> -->
									</div> <!--  dropdown-menu .// -->
								</div> <!-- widget-header .// -->
							</div> <!-- col.// -->
							<div class="col-auto">
								<a href="#" class="widget-header">
									<div class="icontext">
										<div class="icon-wrap"><i class="text-warning icon-sm fa fa-shopping-cart"></i>
										</div>
										<div class="text-wrap text-dark" id="">
											<a href="#" id="usernamequit">用户</a><br><a href="">退出</a>
										</div>
									</div>
								</a>
							</div> <!-- col.// -->
							<div class="col-auto">
								<a href="#" class="widget-header">
									<div class="icontext">
										<div class="icon-wrap"><i class="text-warning icon-sm  fa fa-heart"></i></div>
										<div class="text-wrap text-dark">
											<span class="small round badge badge-secondary">0</span>
											<div>Favorites</div>
										</div>
									</div>
								</a>
							</div> <!-- col.// -->
						</div> <!-- widgets-wrap.// row.// -->
					</div> <!-- col.// -->
				</div> <!-- row.// -->
			</div> <!-- container.// -->
		</section> <!-- header-main .// -->
	</header> <!-- section-header.// -->

	<!-- ========================= SECTION CONTENT ========================= -->
	<section class="section-content bg padding-y-sm">
		<div class="container">
			<div class="card">
				<div class="card-body">
					<div class="row">
						<div class="col-md-3-24"> <strong>Your are here:</strong> </div> <!-- col.// -->
						<nav class="col-md-18-24">
							<ol class="breadcrumb">
								<li class="breadcrumb-item"><a href="#">Home</a></li>
								<li class="breadcrumb-item"><a href="#">Category name</a></li>
								<li class="breadcrumb-item"><a href="#">Sub category</a></li>
								<li class="breadcrumb-item active" aria-current="page">Items</li>
							</ol>
						</nav> <!-- col.// -->
						<div class="col-md-3-24 text-right">
							<a href="#" data-toggle="tooltip" title="List view"> <i class="fa fa-bars"></i></a>
							<a href="#" data-toggle="tooltip" title="Grid view"> <i class="fa fa-th"></i></a>
						</div> <!-- col.// -->
					</div> <!-- row.// -->
					<hr>
					<div class="row">
						<div class="col-md-3-24"> <strong>Filter by:</strong> </div> <!-- col.// -->
						<div class="col-md-21-24">
							<ul class="list-inline">
								<li class="list-inline-item dropdown"><a href="#" class="dropdown-toggle"
										data-toggle="dropdown"> Supplier type </a>
									<div class="dropdown-menu p-3" style="max-width:400px;"">	
		      <label class=" form-check">
										<a href="#">
											<input type="checkbox" class="form-check-input"> Good supplier
										</a>
										</label>
										<label class="form-check">
											<a href="#">
												<input type="checkbox" class="form-check-input"> Best supplier
											</a>
										</label>
										<label class="form-check">
											<a href="#">
												<input type="checkbox" class="form-check-input"> New supplier
											</a>
										</label>
									</div> <!-- dropdown-menu.// -->
								</li>
								<li class="list-inline-item dropdown"><a href="#" class="dropdown-toggle"
										data-toggle="dropdown"> Country </a>
									<div class="dropdown-menu p-3" style="max-width:400px;"">	
		      <label class=" form-check">
										<a href="#">
											<input type="checkbox" class="form-check-input"> China
										</a>
										</label>
										<label class="form-check">
											<a href="#">
												<input type="checkbox" class="form-check-input"> Japan
											</a>
										</label>
										<label class="form-check">
											<a href="#">
												<input type="checkbox" class="form-check-input"> Uzbekistan
											</a>
										</label>
										<label class="form-check">
											<a href="#">
												<input type="checkbox" class="form-check-input"> Russia
											</a>
										</label>
									</div> <!-- dropdown-menu.// -->
								</li>
								<li class="list-inline-item"><a href="#">Product type</a></li>
								<li class="list-inline-item"><a href="#">Brand name</a></li>
								<li class="list-inline-item"><a href="#">Color</a></li>
								<li class="list-inline-item"><a href="#">Size</a></li>
								<li class="list-inline-item">
									<div class="form-inline">
										<label class="mr-2">Price</label>
										<input class="form-control form-control-sm" placeholder="Min" type="number">
										<span class="px-2"> - </span>
										<input class="form-control form-control-sm" placeholder="Max" type="number">
										<button type="submit" class="btn btn-sm ml-2">Ok</button>
									</div>
								</li>
							</ul>
						</div> <!-- col.// -->
					</div> <!-- row.// -->
				</div> <!-- card-body .// -->
			</div> <!-- card.// -->

			<div class="padding-y-sm" id="length">
				<span>length results for "Item"</span>
			</div>

			<div class="row-sm" id="center">
				<!-- <div class="col-md-3 col-sm-6">
	<figure class="card card-product">
		<div class="img-wrap"> <img src="http://bootstrap-ecommerce.com/ui-ecommerce/images/items/1.jpg"></div>
		<figcaption class="info-wrap">
			<a href="#" class="title">Good item name</a>
			<div class="price-wrap">
				<span class="price-new">$1280</span>
				<del class="price-old">$1980</del>
			</div> <!-- price-wrap.// -->
				</figcaption>
				</figure> <!-- card // -->
			</div>
			<!-- 注释一 -->
			<!-- col // -->
			<!-- <div class="col-md-3 col-sm-6">
</section> -->
			<div class="page"></div>
			<!-- ========================= SECTION CONTENT .END// ========================= -->


			<!-- ========================= FOOTER ========================= -->
			<footer class="section-footer bg-secondary">
				<div class="container">
					<section class="footer-top padding-top">
						<div class="row">
							<aside class="col-sm-3 col-md-3 white">
								<h5 class="title">Customer Services</h5>
								<ul class="list-unstyled">
									<li> <a href="#">Help center</a></li>
									<li> <a href="#">Money refund</a></li>
									<li> <a href="#">Terms and Policy</a></li>
									<li> <a href="#">Open dispute</a></li>
								</ul>
							</aside>
							<aside class="col-sm-3  col-md-3 white">
								<h5 class="title">My Account</h5>
								<ul class="list-unstyled">
									<li> <a href="#"> User Login </a></li>
									<li> <a href="#"> User register </a></li>
									<li> <a href="#"> Account Setting </a></li>
									<li> <a href="#"> My Orders </a></li>
									<li> <a href="#"> My Wishlist </a></li>
								</ul>
							</aside>
							<aside class="col-sm-3  col-md-3 white">
								<h5 class="title">About</h5>
								<ul class="list-unstyled">
									<li> <a href="#"> Our history </a></li>
									<li> <a href="#"> How to buy </a></li>
									<li> <a href="#"> Delivery and payment </a></li>
									<li> <a href="#"> Advertice </a></li>
									<li> <a href="#"> Partnership </a></li>
								</ul>
							</aside>
							<aside class="col-sm-3">
								<article class="white">
									<h5 class="title">Contacts</h5>
									<p>
										<strong>Phone: </strong> +123456789 <br>
										<strong>Fax:</strong> +123456789
									</p>

									<div class="btn-group white">
										<a class="btn btn-facebook" title="Facebook" target="_blank" href="#"><i
												class="fab fa-facebook-f  fa-fw"></i></a>
										<a class="btn btn-instagram" title="Instagram" target="_blank" href="#"><i
												class="fab fa-instagram  fa-fw"></i></a>
										<a class="btn btn-youtube" title="Youtube" target="_blank" href="#"><i
												class="fab fa-youtube  fa-fw"></i></a>
										<a class="btn btn-twitter" title="Twitter" target="_blank" href="#"><i
												class="fab fa-twitter  fa-fw"></i></a>
									</div>
								</article>
							</aside>
						</div> <!-- row.// -->
						<br>
					</section>
			</footer>
			<!-- ========================= FOOTER END // ========================= -->
			<script src="./jQuery.js"></script>
			<script type="text/javascript" src="lazyload.js"></script>
			<script>
				//发送请求 默认样式
				$.ajax({
					type: 'get',
					url: 'http://127.0.0.1:3011',
					dataType: 'json',
					success: function (res) {
						var html = ''
						var length = ''
						// console.log(res)  res.data
						$.each(res.data, function (index, item) {
							// item就是数组中一个个对象
							// 一个个对象 对应 一条条 数据
							if ((index + 1 >= (1 - 1) * 4) && (index + 1 <= 1 * 4)) {
								html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
							<div class="img-wrap"> <img src="goodslist/${item.goods_img}" id="${item.id}"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div> 
							`
							}

							//{
							// }			`
						})
						length = `${res.data.length} results for goods`
						//console.log(res.data.length)
						// 分页
						$(".page").css({
							'width': '800px',
							'height': '40px',
							'order': 'solid 1px black',
							'margin': '30px auto',
							'display': 'flex',
							'justifyContent': 'center',
							'alignItems': 'center'
						})
						let pageTag = {
							first: '首页',
							prev: '上一页',
							list: null, // 分页页码
							next: '下一页',
							last: '末页',
						};
						for (let attr in pageTag) {

							//给页面元素添加样式
							if (attr != 'list') {
								$(".page").append(`<p class="pageli">${pageTag[attr]}</p>`);
							} else {
								$(".page").append(`<p class='pageNumber'>${pageTag[attr]}</p>`);
							}
							//console.log(pageTag[attr])
							$(".pageli").css({
								'border': 'solid 1px black'
							})
							$('.page').find('p').css({
								'margin': '0 5px',
								'padding': '0 5px'
							})
						}
						var pageInfo = {
							pageNum: 1,    // 当前页数
							pageSize: 4,    // 每页显示条数  
							totalData: res.data.length, // 总条数 
							totalPage: Math.ceil(res.data.length / 4),  // 总页数 = 向上取整（总条数 / 每页显示条数）
						}
						$('.pageNumber').css({
							'display': 'flex',
							'justifyContent': 'center',
							'alignItems': 'center'
						})
						//步骤0：遍历输出页码
						$(".pageNumber").text('')
						for (var i = 1; i <= pageInfo.totalPage; i++) {
							// 步骤1：创建p标签里面写数字（createElement、createTextNode、appendChild）
							$(".pageNumber").append(`<p class="pagenumber">${i}</p>`);
							// const text = document.createTextNode(1)
							// 步骤3：给p标签设置样式 border margin padding （注：同之前的p）
							$(".pagenumber").css({
								'border': 'solid 1px black',
								'margin': '0 5px',
								'padding': '0 5px'
							})
							//当前页选中效果
							if (i == pageInfo.pageNum) {
								$(".pagenumber").eq(i - 1).css({
									'background': "orange"
								})
								$(".pagenumber").eq(i - 1).addClass('clicked')
							}
							// 步骤4：追加到null标签对象里面
							// 步骤5：设置默认选中效果
						}
						// ============================================
						// 在页面显示
						$('#length').html(length)
						$('#center').html(html)
						page()
					}
					,
					error: function (err) {
						console.log(err)
					}
				})
				//下一页 尾页
				
				//=================================
				
			</script>
			<script>
				//分页
				function page(url=3011){
					$(".page").on("click", '.pagenumber', function () {
					
					$.ajax({
						type: 'get',
						url: `http://127.0.0.1:${url}`,
						dataType: 'json',
						success: (res) => {
							var html = ''
							var length = ''
							// console.log(res)  res.data
							$.each(res.data, (index, item) => {
								// item就是数组中一个个对象
								// 一个个对象 对应 一条条 数据
								//console.log($(this).text())
								if ((index >= ($(this).text() - 1) * 4) && (index <= ($(this).text() * 4) - 1)) {

									html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
							<div class="img-wrap"> <img src="goodslist/${item.goods_img}" id="${item.id}"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div> 
							`
								}
							})

							$('#center').html(html)
							$(this).css({ 'background': "orange" }).siblings().css({ 'background': "" })
							$(this).addClass('clicked').siblings().removeClass('clicked')
						}
					})
					//追加
				})
			
				//上一页  首页
				$(".page").on("click", '.pageli', function () {
					//console.log($('.clicked').text())
					console.log($(this).text())
					if (($(this).text()) == '首页') {
						if (($('.clicked').text()) != 1) {
							$.ajax({
								type: 'get',
								url: `http://127.0.0.1:${url}`,
								dataType: 'json',
								success: (res) => {
									var html = ''
									var length = ''
									// console.log(res)  res.data
									$.each(res.data, (index, item) => {
										// item就是数组中一个个对象
										// 一个个对象 对应 一条条 数据
										//console.log($(this).text())
										if (index >= 0 && index <= 3) {

											html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
							<div class="img-wrap"> <img src="goodslist/${item.goods_img}" id="${item.id}"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div> 
							`
										}
									})

									$('#center').html(html)
									$(".pagenumber").eq(0).css({ 'background': "orange" }).siblings().css({ 'background': "" })
									$(".pagenumber").eq(0).addClass('clicked').siblings().removeClass('clicked')
									$(this).css({ background: '' })
								}
							})
						}
						else {
							//禁用没写
						}
					}
					else if (($(this).text()) == '上一页') {
						if (($('.clicked').text()) != 1) {
							console.log($('.clicked').text())
							$.ajax({
								type: 'get',
								url: `http://127.0.0.1:${url}`,
								dataType: 'json',
								success: (res) => {
									var num = parseInt($('.clicked').text())
									num--;
									console.log(num)
									var html = ''
									// console.log(res)  res.data
									$.each(res.data, (index, item) => {
										// item就是数组中一个个对象
										// 一个个对象 对应 一条条 数据
										//console.log($(this).text())
										if ((index >= (num - 1) * 4) && index <= ((num) * 4) - 1) {

											html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
							<div class="img-wrap"> <img src="goodslist/${item.goods_img}" id="${item.id}"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div> 
							`
										}
									})

									$('#center').html(html)
									$(".pagenumber").eq(num - 1).css({ 'background': "orange" }).siblings().css({ 'background': "" })
									$(".pagenumber").eq(num - 1).addClass('clicked').siblings().removeClass('clicked')
									$(this).css({ background: '' })
								}
							})
						}
					}					
					else if (($(this).text()) == '末页') {
						console.log(parseInt($('#length').text()))
						if (($('.clicked').text()) != Math.ceil(parseInt($('#length').text()) / 4)) {
							$.ajax({
								type: 'get',
								url: `http://127.0.0.1:${url}`,
								dataType: 'json',
								success: (res) => {
									var html = ''
									var length = ''
									// console.log(res)  res.data
									$.each(res.data, (index, item) => {
										// item就是数组中一个个对象
										// 一个个对象 对应 一条条 数据
										//console.log($(this).text())
										if ((index >= parseInt($('#length').text()) - 4) && index <= parseInt($('#length').text()) - 1) {

											html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
							<div class="img-wrap"> <img src="goodslist/${item.goods_img}" id="${item.id}"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div> 
							`
										}
									})

									$('#center').html(html)
									$(".pagenumber").eq(Math.ceil(parseInt($('#length').text()) / 4) - 1).css({ 'background': "orange" }).siblings().css({ 'background': "" })
									$(".pagenumber").eq(Math.ceil(parseInt($('#length').text()) / 4) - 1).addClass('clicked').siblings().removeClass('clicked')
									$(this).css({ background: '' })
								}
							})
						}
						
					}
					//下一页
					else if (($(this).text()) == '下一页') {
						if (($('.clicked').text()) != Math.ceil(parseInt($('#length').text()) / 4)) {
							console.log($('.clicked').text())
							$.ajax({
								type: 'get',
								url: `http://127.0.0.1:${url}`,
								dataType: 'json',
								success: (res) => {
									var num = parseInt($('.clicked').text())
									num++;
									console.log(num)
									var html = ''
									// console.log(res)  res.data
									$.each(res.data, (index, item) => {
										// item就是数组中一个个对象
										// 一个个对象 对应 一条条 数据
										//console.log($(this).text())
										if ((index >= (num - 1) * 4) && index <= ((num) * 4) - 1) {

											html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
							<div class="img-wrap"> <img src="goodslist/${item.goods_img}" id="${item.id}"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div> 
							`
										}
									})

									$('#center').html(html)
									$(".pagenumber").eq(num - 1).css({ 'background': "orange" }).siblings().css({ 'background': "" })
									$(".pagenumber").eq(num - 1).addClass('clicked').siblings().removeClass('clicked')
									$(this).css({ background: '' })
								}
							})
						}
					}
				})
				}
			</script>
<img src="/goodslist/image/" alt="">
			<script>
				//分类 查询 按种类划分 获取class 划分
				$("#style").on('click', '.dropdown-item', function () {
					//console.log(1)
					console.log($(this).text())
					//alert($(this).text())
					$.ajax({
						type: 'get',
						url: 'http://127.0.0.1:3011',
						dataType: 'json',
						success: (res) => {
							var html = ''
							// console.log(res)  res.data
							$.each(res.data, (index, item) => {
								// item就是数组中一个个对象
								// 一个个对象 对应 一条条 数据
								if (item.goods_class == $(this).text()) {

								//if ((index + 1 >= (1 - 1) * 4) && (index + 1 <= 1 * 4)) {
								html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
							<div class="img-wrap"> <img src="goodslist/${item.goods_img}" id="${item.id}"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div> 
							`
							//}
								}
							})
							$('#center').html(html)
							page()
						}
					})
				})
			</script>
			<script>
				//模糊查询
				$("#Search").keyup(function () {
					console.log($("#Search").val())
					//正则过滤空格
					//$("#Search").val().replace(/\s/g, '')
					$("#Search").val($("#Search").val().replace(/\s/g, ''))
					clearTimeout(t)
					var t = setTimeout(function () {
						$.ajax({
							type: 'get',
							url: 'http://127.0.0.1:3011',
							dataType: 'json',
							success: (res) => {
								var html = ''
								// console.log(res)  res.data
								$.each(res.data, (index, item) => {
									// item就是数组中一个个对象
									// 一个个对象 对应 一条条 数据
									//模拟模糊查询
									if (!(item.goods_title.indexOf($("#Search").val()) == -1) || !(item.goods_class.indexOf($("#Search").val()) == -1)) {
										//if ((index + 1 >= (1 - 1) * 4) && (index + 1 <= 1 * 4)) {
								html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
							<div class="img-wrap"> <img data-original="./goodslist/${item.goods_img}" src="./loading.gif" id="${item.id}" class="lazyload" width="300px" height="300px"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div>
							`
							//}
									}

								})
								$('#center').html(html)
								$(function() {$("img.lazyload").lazyload();})
								page()
							}
						})
					}, 1000)
				})
				//$("img.img-wrap").lazyload({    threshold : 200})
			</script>
			//<img src="./goodslist/" alt="">
			<script>
				// 按时间查询
				$(".custom-select").change(function () {
					console.log($(this).val())
					if ($(this).val() == '最新') {
						
						$.ajax({
							type: 'get',
							url: 'http://127.0.0.1:3010',
							dataType: 'json',
							success: (res) => {
								var html = ''
								var num=0;
								$.each(res.data, (index, item) => {
									num++
									
									if ((index + 1 >= (1 - 1) * 4) && (index + 1 <= 1 * 4)) {
										html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
							<div class="img-wrap"> <img data-original="./goodslist/${item.goods_img}" src="./loading.gif" id="${item.id}" class="lazyload" width="300px" height="300px"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div>
							`
							//}
									}

								})
								page(3010)
								$('#center').html(html)
								$(function() {$("img.lazyload").lazyload();})
							}
						})
					}
				})
			</script>

			<script>
				//历史记录 给里面的元素添加点击事件 获取历史记录 双击加入收藏夹dblclick
				var num = 1
				$('#center').on('click', '.card.card-product', function () {//注意 群组选择器 应该都写上.
					//商品添加 购物车
					if(confirm("是否去商品详情页面")){
			//添加到购物车中
			localStorage.setItem(num++, $(this).find('a').text())//   key 0 ,1,2,3  保存完毕后 添加鲜果
			$('.small.round.badge.badge-secondary').text(parseInt($('.small.round.badge.badge-secondary').text()) + 1)
			window.open (`file:///D:/Nanjing1907/National%20Day%20the%20homework-goodsList/mean/goodstyle.html?id=${$(this).find('img').attr("id")}&goodsprice=${$(this).find('span').text()}&goodstitle=${$(this).find('a').text()}`, "_blank");
		}		
				})
				$('.small.round.badge.badge-secondary').click(function () {

					$.ajax({
						type: 'get',
						url: 'http://127.0.0.1:3011',
						dataType: 'json',
						success: (res) => {
							var html = ''
							// console.log(res)  res.data
							$.each(res.data, (index, item) => {
								// item就是数组中一个个对象
								// 一个个对象 对应 一条条 数据
								for (var i = 1; i <= parseInt($(this).text()); i++) {
									if (item.goods_title == localStorage.getItem(i)) {
										if ((index + 1 >= (1 - 1) * 4) && (index + 1 <= 1 * 4)) {
								html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
						<div class="img-wrap"> <img data-original="./goodslist/${item.goods_img}" src="./loading.gif" id="${item.id}" class="lazyload" width="300px" height="300px"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div> 
							`
							}
									}
								}
							})
							$('#center').html(html)
							$(function() {$("img.lazyload").lazyload();})
							page()
							
						}
					})
				})
			</script>
			<script>
				//价格
				$(".custom-select").change(function () {
					console.log($(this).val())
					if ($(this).val() == '最好') {
						$.ajax({
							type: 'get',
							url: 'http://127.0.0.1:3012',
							dataType: 'json',
							success: (res) => {
								var html = ''
								// console.log(res)  res.data
								$.each(res.data, (index, item) => {
									if ((index + 1 >= (1 - 1) * 4) && (index + 1 <= 1 * 4)) {
								html += `
							<div class="col-md-3 col-sm-6">
							<figure class="card card-product">
									<div class="img-wrap"> <img data-original="./goodslist/${item.goods_img}" src="./loading.gif" id="${item.id}" class="lazyload" width="300px" height="300px"></div>
							<figcaption class="info-wrap">
							<a href="#" class="title">${item.goods_title}</a>
							<div class="price-wrap">
							<span class="price-new">$${item.goods_price}</span>
							</div> 
							</figcaption>
							</figure> 
							</div> 
							`
							}
								})
								page(3012)
								$('#center').html(html)
								$(function() {$("img.lazyload").lazyload();})
							}
						})
					}
				})
			</script>
			<script>
			</script>
</body>

</html>